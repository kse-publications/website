---
import '@/styles/globals.css'
import { getPublication } from '@/services/search/get-publications'
import PublicationPage from '@/components/publications/publication-section'
import Layout from '@/layouts/Layout.astro'

const { id } = Astro.params as { id: string }

const clientUuid = Astro.cookies.get('client-uuid')

const data = await getPublication(id, clientUuid?.value).catch((error) => {
  console.log(error)
})
---

<Layout title=`KSE Publications | ${data.title}`>
  <PublicationPage data={data} transition:persist client:only />
</Layout>
